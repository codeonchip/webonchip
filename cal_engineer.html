<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All‚Äëin‚ÄëOne Engineering Calculators</title>
  <style>
    :root{
      --bg: #0b1020; /* deep navy */
      --bg-soft: #111735;
      --panel: #151c3b;
      --panel-2: #1b2450;
      --text: #e7ecff;
      --muted: #b6c1ff;
      --accent: #6ea8fe;
      --accent-2:#7df9c6;
      --danger:#ff6b6b;
      --ok:#6ef0a5;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text); background: radial-gradient(1200px 800px at 15% 10%, #18214d 0%, var(--bg) 45%);
    }
    .app{display:grid; grid-template-columns: 280px 1fr; min-height:100vh}
    aside{
      position:sticky; top:0; align-self:start; height:100vh; overflow:auto;
      background: linear-gradient(180deg, var(--panel) 0%, #0f1430 100%);
      border-right:1px solid rgba(255,255,255,.06);
      padding:20px; box-shadow: var(--shadow);
    }
    .brand{display:flex; gap:10px; align-items:center; margin-bottom:12px}
    .logo{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2)); box-shadow:0 6px 16px rgba(110,168,254,.4)}
    h1{font-size:18px;margin:0}
    .muted{color:var(--muted); font-size:12px}
    nav{margin-top:18px; display:flex; flex-direction:column; gap:8px}
    nav a{
      text-decoration:none; color:var(--text); padding:10px 12px; border-radius:12px; display:flex; align-items:center; gap:10px;
      background:transparent; border:1px solid rgba(255,255,255,.06);
    }
    nav a:hover{background:rgba(255,255,255,.06)}
    main{padding:28px;}
    .section{margin-bottom:38px}
    .section h2{margin:0 0 12px 0; font-size:22px}
    .section p{margin:0 0 18px 0; color:var(--muted)}
    .cards{display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap:16px}
    .card{
      background:linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
      border:1px solid rgba(255,255,255,.08); border-radius: var(--radius); padding:16px; box-shadow: var(--shadow);
    }
    .card h3{margin:0 0 8px 0; font-size:16px}
    .row{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
    label{font-size:12px; color:var(--muted)}
    input, select, button, textarea{
      width:100%; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.12); background:#0d1330; color:var(--text);
    }
    input:focus, select:focus, textarea:focus{outline:2px solid rgba(110,168,254,.6); border-color:rgba(110,168,254,.4)}
    .btn{background: linear-gradient(135deg, var(--accent), #88c7ff); border:none; color:#08112b; font-weight:700; cursor:pointer}
    .btn.secondary{background: linear-gradient(135deg, #2cf2bd, #64ffd6)}
    .btn.danger{background: linear-gradient(135deg, #ff8a8a, #ff6b6b)}
    .btn:disabled{opacity:.55; cursor:not-allowed}
    .result{margin-top:10px; padding:10px 12px; border-radius:12px; background:rgba(125,249,198,.08); border:1px dashed rgba(125,249,198,.35)}
    .note{font-size:12px; color:var(--muted)}
    .formula{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; font-size:12px; background:#0d1330; padding:2px 6px; border-radius:8px}
    .grid-3{display:grid; grid-template-columns: repeat(3, 1fr); gap:10px}
    .small{font-size:11px}
    .hr{height:1px; background:rgba(255,255,255,.08); margin:12px 0}
    footer{color:var(--muted); font-size:12px; margin-top:24px}
    .kpi{display:flex; gap:8px; flex-wrap:wrap}
    .pill{padding:6px 10px; border-radius:999px; background:rgba(110,168,254,.12); border:1px solid rgba(110,168,254,.35); font-size:12px}
    .formula-block{background:#0d1330; border:1px solid rgba(255,255,255,.08); padding:8px 10px; border-radius:12px; overflow:auto}
  </style>
</head>
<body>
  <div class="app">
    <aside>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Engineering Calculators</h1>
          <div class="muted">Single‚Äëpage toolkit</div>
        </div>
      </div>
      <nav>
        <a href="#electrical">‚ö° Electrical</a>
        <a href="#chemical">üß™ Chemical</a>
        <a href="#civil">üèóÔ∏è Civil</a>
        <a href="#mechanical">‚öôÔ∏è Mechanical</a>
        <a href="#software">üíª Software</a>
      </nav>
      <div class="hr"></div>
      <div class="small muted">Tip: Values are SI by default. Hover labels for hints. Use the Reset buttons to clear forms.</div>
    </aside>

    <main>
      <!-- ELECTRICAL -->
      <section id="electrical" class="section">
        <h2>‚ö° Electrical Engineering</h2>
        <p>Quick tools for Ohm's law, reactance, and dividers.</p>
        <div class="cards">
          <div class="card">
            <h3>Ohm's Law Solver</h3>
            <div class="row">
              <div>
                <label title="Voltage in volts">Voltage V (V)</label>
                <input id="ee_v" type="number" step="any" placeholder="e.g., 12" />
              </div>
              <div>
                <label title="Current in amperes">Current I (A)</label>
                <input id="ee_i" type="number" step="any" placeholder="e.g., 0.5" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label title="Resistance in ohms">Resistance R (Œ©)</label>
                <input id="ee_r" type="number" step="any" placeholder="e.g., 24" />
              </div>
              <div>
                <label title="Power in watts (calculated)">Power P (W)</label>
                <input id="ee_p" type="number" step="any" placeholder="auto" disabled />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" onclick="ohmsLawSolve()">Solve Missing</button>
              <button class="btn secondary" onclick="clearOhms()">Reset</button>
            </div>
            <div id="ee_ohm_out" class="result" hidden></div>
            <div class="note">Provide any <b>two</b> of V, I, R. The rest will be calculated. P is always V√óI.</div>
          </div>

          <div class="card">
            <h3>Reactance @ Frequency</h3>
            <div class="row">
              <div>
                <label>f (Hz)</label>
                <input id="rx_f" type="number" step="any" placeholder="1000" />
              </div>
              <div>
                <label>C (¬µF)</label>
                <input id="rx_c" type="number" step="any" placeholder="1" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>L (mH)</label>
                <input id="rx_l" type="number" step="any" placeholder="10" />
              </div>
              <div style="align-self:end">
                <button class="btn" onclick="reactanceCalc()">Calculate</button>
              </div>
            </div>
            <div id="rx_out" class="result" hidden></div>
            <div class="note">X<sub>C</sub>=1/(2œÄ f C), X<sub>L</sub>=2œÄ f L. Inputs in ¬µF and mH are converted internally.</div>
          </div>

          <div class="card">
            <h3>Voltage Divider</h3>
            <div class="row">
              <div>
                <label>V<sub>in</sub> (V)</label>
                <input id="vd_vin" type="number" step="any" placeholder="5" />
              </div>
              <div>
                <label>R1 (Œ©)</label>
                <input id="vd_r1" type="number" step="any" placeholder="1000" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>R2 (Œ©)</label>
                <input id="vd_r2" type="number" step="any" placeholder="2000" />
              </div>
              <div style="align-self:end">
                <button class="btn" onclick="voltageDivider()">Compute Vout</button>
              </div>
            </div>
            <div id="vd_out" class="result" hidden></div>
            <div class="note">Ideal divider: V<sub>out</sub> = V<sub>in</sub> ¬∑ R2 / (R1 + R2).</div>
          </div>
        </div>
      </section>

      <!-- CHEMICAL -->
      <section id="chemical" class="section">
        <h2>üß™ Chemical Engineering</h2>
        <p>Fluid/thermo helpers: Ideal Gas, Reynolds &amp; Pressure Drop, and CSTR residence time.</p>
        <div class="cards">
          <div class="card">
            <h3>Ideal Gas Law (P¬∑V = n¬∑R¬∑T)</h3>
            <div class="row">
              <div>
                <label>P (kPa)</label>
                <input id="ig_p" type="number" step="any" placeholder="101.325" />
              </div>
              <div>
                <label>V (L)</label>
                <input id="ig_v" type="number" step="any" placeholder="22.414" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>n (mol)</label>
                <input id="ig_n" type="number" step="any" placeholder="1" />
              </div>
              <div>
                <label>T (K)</label>
                <input id="ig_t" type="number" step="any" placeholder="273.15" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" onclick="idealGasSolve()">Solve Missing</button>
              <button class="btn secondary" onclick="clearIG()">Reset</button>
            </div>
            <div id="ig_out" class="result" hidden></div>
            <div class="note">Uses R = 8.314462618 kPa¬∑L¬∑mol‚Åª¬π¬∑K‚Åª¬π. Supply any three variables.</div>
          </div>

          <div class="card">
            <h3>Pipe Flow: Reynolds, f, ŒîP (Darcy‚ÄìWeisbach)</h3>
            <div class="row">
              <div>
                <label>Diameter D (m)</label>
                <input id="pf_d" type="number" step="any" placeholder="0.05" />
              </div>
              <div>
                <label>Length L (m)</label>
                <input id="pf_l" type="number" step="any" placeholder="10" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>Volumetric Flow Q (m¬≥/s)</label>
                <input id="pf_q" type="number" step="any" placeholder="0.002" />
              </div>
              <div>
                <label>Roughness Œµ (m)</label>
                <input id="pf_eps" type="number" step="any" placeholder="0.000045" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>Density œÅ (kg/m¬≥)</label>
                <input id="pf_rho" type="number" step="any" placeholder="998" />
              </div>
              <div>
                <label>Viscosity Œº (Pa¬∑s)</label>
                <input id="pf_mu" type="number" step="any" placeholder="0.001" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" onclick="pipeFlowCalc()">Calculate</button>
              <button class="btn secondary" onclick="clearPF()">Reset</button>
            </div>
            <div id="pf_out" class="result" hidden></div>
            <div class="note">Swamee‚ÄìJain for turbulent: f = 0.25 / [log10(Œµ/(3.7D) + 5.74/Re^0.9)]¬≤. Laminar (Re&lt;2300): f=64/Re.</div>
          </div>

          <div class="card">
            <h3>CSTR Residence Time</h3>
            <div class="row">
              <div>
                <label>Tank Volume V (m¬≥)</label>
                <input id="cstr_v" type="number" step="any" placeholder="5" />
              </div>
              <div>
                <label>Flow Rate Q (m¬≥/s)</label>
                <input id="cstr_q" type="number" step="any" placeholder="0.02" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" onclick="cstrCalc()">Compute œÑ</button>
              <button class="btn secondary" onclick="clearCSTR()">Reset</button>
            </div>
            <div id="cstr_out" class="result" hidden></div>
            <div class="note">œÑ = V / Q (seconds). Multiply by 60 for minutes if desired.</div>
          </div>
        </div>
      </section>

      <!-- CIVIL -->
      <section id="civil" class="section">
        <h2>üèóÔ∏è Civil Engineering</h2>
        <p>Beam deflection &amp; stress, concrete volume, and slope/grade.</p>
        <div class="cards">
          <div class="card">
            <h3>Beam (Simply Supported, Center Load)</h3>
            <div class="row">
              <div>
                <label>Load P (N)</label>
                <input id="beam_p" type="number" step="any" placeholder="1000" />
              </div>
              <div>
                <label>Length L (m)</label>
                <input id="beam_l" type="number" step="any" placeholder="2" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>Elastic Modulus E (Pa)</label>
                <input id="beam_e" type="number" step="any" placeholder="2e11" />
              </div>
              <div>
                <label>Rect. Section b√óh (m)</label>
                <div class="row">
                  <input id="beam_b" type="number" step="any" placeholder="0.05" />
                  <input id="beam_h" type="number" step="any" placeholder="0.10" />
                </div>
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" onclick="beamCalc()">Calculate</button>
              <button class="btn secondary" onclick="clearBeam()">Reset</button>
            </div>
            <div id="beam_out" class="result" hidden></div>
            <div class="note">Œ¥<sub>max</sub>=P L¬≥/(48 E I), I=b h¬≥/12, œÉ<sub>max</sub>=M<sub>max</sub>¬∑(h/2)/I with M<sub>max</sub>=P L/4.</div>
          </div>

          <div class="card">
            <h3>Concrete Volume (Slab)</h3>
            <div class="row">
              <div>
                <label>Length (m)</label>
                <input id="conc_l" type="number" step="any" placeholder="4" />
              </div>
              <div>
                <label>Width (m)</label>
                <input id="conc_w" type="number" step="any" placeholder="3" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>Thickness (m)</label>
                <input id="conc_t" type="number" step="any" placeholder="0.12" />
              </div>
              <div style="align-self:end">
                <button class="btn" onclick="concCalc()">Compute Volume</button>
              </div>
            </div>
            <div id="conc_out" class="result" hidden></div>
            <div class="note">Outputs m¬≥ and yd¬≥ (1 m¬≥ = 1.30795 yd¬≥). Add 5‚Äì10% waste as needed.</div>
          </div>

          <div class="card">
            <h3>Slope / Grade</h3>
            <div class="row">
              <div>
                <label>Rise</label>
                <input id="slope_rise" type="number" step="any" placeholder="1" />
              </div>
              <div>
                <label>Run</label>
                <input id="slope_run" type="number" step="any" placeholder="10" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" onclick="slopeCalc()">Calculate</button>
              <button class="btn secondary" onclick="clearSlope()">Reset</button>
            </div>
            <div id="slope_out" class="result" hidden></div>
            <div class="note">Grade % = 100 √ó rise/run. Angle Œ∏ = arctan(rise/run).</div>
          </div>
        </div>
      </section>

      <!-- MECHANICAL -->
      <section id="mechanical" class="section">
        <h2>‚öôÔ∏è Mechanical Engineering</h2>
        <p>Gearing, thermal expansion, and power from torque &amp; RPM.</p>
        <div class="cards">
          <div class="card">
            <h3>Gear Ratio: Speed &amp; Torque</h3>
            <div class="row">
              <div>
                <label>Driver Teeth (N<sub>1</sub>)</label>
                <input id="gear_n1" type="number" step="any" placeholder="20" />
              </div>
              <div>
                <label>Driven Teeth (N<sub>2</sub>)</label>
                <input id="gear_n2" type="number" step="any" placeholder="40" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>Input RPM</label>
                <input id="gear_rpm_in" type="number" step="any" placeholder="1500" />
              </div>
              <div>
                <label>Input Torque (N¬∑m)</label>
                <input id="gear_t_in" type="number" step="any" placeholder="10" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>Efficiency Œ∑ (0‚Äì1)</label>
                <input id="gear_eta" type="number" step="any" value="0.98" />
              </div>
              <div style="align-self:end">
                <button class="btn" onclick="gearCalc()">Calculate</button>
              </div>
            </div>
            <div id="gear_out" class="result" hidden></div>
            <div class="note">Ratio i = N‚ÇÇ/N‚ÇÅ. RPM<sub>out</sub>=RPM<sub>in</sub>/i. Torque<sub>out</sub>=Torque<sub>in</sub>¬∑i¬∑Œ∑.</div>
          </div>

          <div class="card">
            <h3>Thermal Expansion</h3>
            <div class="row">
              <div>
                <label>Œ± (1/K)</label>
                <input id="te_alpha" type="number" step="any" placeholder="1.2e-5" />
              </div>
              <div>
                <label>Length L (m)</label>
                <input id="te_l" type="number" step="any" placeholder="2" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>ŒîT (K)</label>
                <input id="te_dt" type="number" step="any" placeholder="50" />
              </div>
              <div style="align-self:end">
                <button class="btn" onclick="thermalExp()">Compute ŒîL</button>
              </div>
            </div>
            <div id="te_out" class="result" hidden></div>
            <div class="note">ŒîL = Œ± ¬∑ L ¬∑ ŒîT. Approximate linear expansion.</div>
          </div>

          <div class="card">
            <h3>Power from Torque &amp; RPM</h3>
            <div class="row">
              <div>
                <label>Torque œÑ (N¬∑m)</label>
                <input id="p_torque" type="number" step="any" placeholder="50" />
              </div>
              <div>
                <label>Speed n (RPM)</label>
                <input id="p_rpm" type="number" step="any" placeholder="3000" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" onclick="powerFromTR()">Calculate</button>
              <button class="btn secondary" onclick="clearPower()">Reset</button>
            </div>
            <div id="p_out" class="result" hidden></div>
            <div class="note">P(W)=œÑ¬∑2œÄ¬∑n/60. Horsepower = P/746.</div>
          </div>
        </div>
      </section>

      <!-- SOFTWARE -->
      <section id="software" class="section">
        <h2>üíª Software Engineering</h2>
        <p>Bandwidth/download time, SLA uptime ‚áí downtime, and bits required.</p>
        <div class="cards">
          <div class="card">
            <h3>Download Time</h3>
            <div class="row">
              <div>
                <label>File Size</label>
                <div class="row">
                  <input id="dl_size" type="number" step="any" placeholder="1024" />
                  <select id="dl_size_unit">
                    <option value="MB">MB</option>
                    <option value="GB">GB</option>
                    <option value="KB">KB</option>
                  </select>
                </div>
              </div>
              <div>
                <label>Bandwidth</label>
                <div class="row">
                  <input id="dl_bw" type="number" step="any" placeholder="100" />
                  <select id="dl_bw_unit">
                    <option value="Mbps">Mbps</option>
                    <option value="MBps">MB/s</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label>Overhead (0‚Äì1)</label>
                <input id="dl_oh" type="number" step="any" value="0.1" />
              </div>
              <div style="align-self:end">
                <button class="btn" onclick="downloadTime()">Estimate</button>
              </div>
            </div>
            <div id="dl_out" class="result" hidden></div>
            <div class="note">Time ‚âà size / effective_rate, where effective_rate = bandwidth √ó (1 ‚àí overhead).</div>
          </div>

          <div class="card">
            <h3>SLA Uptime ‚Üí Downtime</h3>
            <div class="row">
              <div>
                <label>Availability (%)</label>
                <input id="sla_pct" type="number" step="any" placeholder="99.9" />
              </div>
              <div>
                <label>Period</label>
                <select id="sla_period">
                  <option value="year">Per Year</option>
                  <option value="month">Per Month</option>
                  <option value="week">Per Week</option>
                  <option value="day">Per Day</option>
                </select>
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" onclick="slaCalc()">Calculate</button>
              <button class="btn secondary" onclick="clearSLA()">Reset</button>
            </div>
            <div id="sla_out" class="result" hidden></div>
            <div class="note">Downtime = (1 ‚àí availability) √ó period_duration. For a year, uses 365 days.</div>
          </div>

          <div class="card">
            <h3>Bits Required</h3>
            <div class="row">
              <div>
                <label>Number of states/items N</label>
                <input id="bits_n" type="number" step="any" placeholder="1000" />
              </div>
              <div style="align-self:end">
                <button class="btn" onclick="bitsNeeded()">Compute</button>
              </div>
            </div>
            <div id="bits_out" class="result" hidden></div>
            <div class="note">Bits = ‚åàlog‚ÇÇ(N)‚åâ to represent up to N unique values (0 ‚Ä¶ N‚àí1).</div>
          </div>
        </div>
      </section>

      <footer>
        <div class="kpi">
          <div class="pill">No external libraries</div>
          <div class="pill">Unit‚Äëaware where relevant</div>
          <div class="pill">Edge‚Äëcase guarded</div>
        </div>
        <div style="margin-top:12px">Made for quick engineering estimates ‚Äî verify with detailed design calcs when required.</div>
      </footer>
    </main>
  </div>

  <script>
    // ---------- Helpers ----------
    const show = (el, on=true)=>{ el.hidden = !on }
    const num = (id)=>{ const v = parseFloat(document.getElementById(id).value); return isFinite(v) ? v : null }
    const set = (id, v)=>{ document.getElementById(id).value = (v===null||v===undefined||Number.isNaN(v))?"": String(v) }

    // ---------- Electrical ----------
    function clearOhms(){ ['ee_v','ee_i','ee_r','ee_p'].forEach(id=>set(id, '')); show(document.getElementById('ee_ohm_out'), false) }
    function ohmsLawSolve(){
      const V = num('ee_v');
      const I = num('ee_i');
      const R = num('ee_r');
      const out = document.getElementById('ee_ohm_out');
      const known = [V,I,R].filter(v=>v!==null).length;
      if(known < 2){ out.innerHTML = '<span style="color:var(--danger)">Enter any two of V, I, R.</span>'; show(out,true); return }
      let v=V, i=I, r=R;
      if(v===null) v = I*R;
      if(i===null) i = V/R;
      if(r===null) r = V/I;
      const p = v*i;
      set('ee_v', +v.toFixed(6)); set('ee_i', +i.toFixed(6)); set('ee_r', +r.toFixed(6)); set('ee_p', +p.toFixed(6));
      out.innerHTML = `V=${v.toFixed(6)} V, I=${i.toFixed(6)} A, R=${r.toFixed(6)} Œ©, P=${p.toFixed(6)} W`;
      show(out,true);
    }

    function reactanceCalc(){
      const f = num('rx_f'); const c_uF = num('rx_c'); const l_mH = num('rx_l');
      const out = document.getElementById('rx_out');
      if(!f || (!c_uF && !l_mH)){ out.innerHTML = '<span style="color:var(--danger)">Provide f and at least one of C or L.</span>'; show(out,true); return }
      const twoPiF = 2*Math.PI*f;
      let msg=[];
      if(c_uF){ const C = c_uF*1e-6; const Xc = 1/(twoPiF*C); msg.push(`X<sub>C</sub>=${Xc.toFixed(6)} Œ©`) }
      if(l_mH){ const L = l_mH*1e-3; const Xl = twoPiF*L; msg.push(`X<sub>L</sub>=${Xl.toFixed(6)} Œ©`) }
      out.innerHTML = msg.join(' ¬∑ '); show(out,true);
    }

    function voltageDivider(){
      const vin = num('vd_vin'), r1 = num('vd_r1'), r2 = num('vd_r2');
      const out = document.getElementById('vd_out');
      if(vin===null||r1===null||r2===null||r1+r2===0){ out.innerHTML = '<span style="color:var(--danger)">Enter Vin, R1, R2 (R1+R2‚â†0).</span>'; show(out,true); return }
      const vout = vin * (r2/(r1+r2));
      out.innerHTML = `V<sub>out</sub> = ${vout.toFixed(6)} V`;
      show(out,true);
    }

    // ---------- Chemical ----------
    function clearIG(){ ['ig_p','ig_v','ig_n','ig_t'].forEach(id=>set(id,'')); show(document.getElementById('ig_out'), false) }
    function idealGasSolve(){
      const R = 8.314462618; // kPa¬∑L/(mol¬∑K)
      let P = num('ig_p'); let V = num('ig_v'); let n = num('ig_n'); let T = num('ig_t');
      const out = document.getElementById('ig_out');
      const filled = [P,V,n,T].filter(x=>x!==null).length;
      if(filled < 3){ out.innerHTML = '<span style="color:var(--danger)">Provide any three of P,V,n,T.</span>'; show(out,true); return }
      if(P===null) P = (n*R*T)/V;
      else if(V===null) V = (n*R*T)/P;
      else if(n===null) n = (P*V)/(R*T);
      else if(T===null) T = (P*V)/(n*R);
      out.innerHTML = `P=${P.toFixed(6)} kPa, V=${V.toFixed(6)} L, n=${n.toFixed(6)} mol, T=${T.toFixed(6)} K`;
      set('ig_p',+P.toFixed(6)); set('ig_v',+V.toFixed(6)); set('ig_n',+n.toFixed(6)); set('ig_t',+T.toFixed(6));
      show(out,true);
    }

    function areaCircle(d){ return Math.PI*(d*d)/4 }
    function pipeFlowCalc(){
      const D = num('pf_d'); const L = num('pf_l'); const Q = num('pf_q');
      const eps = num('pf_eps'); const rho = num('pf_rho'); const mu = num('pf_mu');
      const out = document.getElementById('pf_out');
      if([D,L,Q,eps,rho,mu].some(v=>v===null||v<=0)){ out.innerHTML = '<span style="color:var(--danger)">Fill all fields with positive values.</span>'; show(out,true); return }
      const A = areaCircle(D);
      const v = Q / A;
      const Re = rho*v*D / mu;
      let f;
      if(Re < 2300){ f = 64/Re; }
      else {
        f = 0.25 / Math.pow(Math.log10( (eps/(3.7*D)) + (5.74/Math.pow(Re,0.9)) ), 2);
      }
      const dP = f * (L/D) * (rho * v*v / 2);
      const g = 9.80665;
      const hL = dP/(rho*g);
      out.innerHTML = `v=${v.toFixed(6)} m/s, Re=${Re.toFixed(0)}, f=${f.toFixed(5)}, ŒîP=${dP.toFixed(2)} Pa, head loss=${hL.toFixed(4)} m`;
      show(out,true);
    }
    function clearPF(){ ['pf_d','pf_l','pf_q','pf_eps','pf_rho','pf_mu'].forEach(id=>set(id,'')); show(document.getElementById('pf_out'), false) }

    function cstrCalc(){
      const V = num('cstr_v'); const Q = num('cstr_q'); const out = document.getElementById('cstr_out');
      if(V===null||Q===null||Q<=0){ out.innerHTML = '<span style="color:var(--danger)">Enter V and Q (Q>0).</span>'; show(out,true); return }
      const tau = V/Q;
      out.innerHTML = `œÑ = ${tau.toFixed(6)} s (${(tau/60).toFixed(3)} min)`;
      show(out,true);
    }
    function clearCSTR(){ ['cstr_v','cstr_q'].forEach(id=>set(id,'')); show(document.getElementById('cstr_out'), false) }

    // ---------- Civil ----------
    function beamCalc(){
      const P = num('beam_p'); const L = num('beam_l'); const E = num('beam_e'); const b = num('beam_b'); const h = num('beam_h');
      const out = document.getElementById('beam_out');
      if([P,L,E,b,h].some(v=>v===null||v<=0)){ out.innerHTML = '<span style="color:var(--danger)">Fill P, L, E, b, h (all > 0).</span>'; show(out,true); return }
      const I = b*Math.pow(h,3)/12;
      const delta = P*Math.pow(L,3)/(48*E*I);
      const Mmax = P*L/4;
      const c = h/2;
      const sigma = Mmax*c/I;
      out.innerHTML = `I=${I.toExponential(6)} m‚Å¥, Œ¥<sub>max</sub>=${delta.toExponential(6)} m, œÉ<sub>max</sub>=${sigma.toFixed(2)} Pa (‚âà ${(sigma/1e6).toFixed(3)} MPa)`;
      show(out,true);
    }
    function clearBeam(){ ['beam_p','beam_l','beam_e','beam_b','beam_h'].forEach(id=>set(id,'')); show(document.getElementById('beam_out'), false) }

    function concCalc(){
      const L = num('conc_l'); const W = num('conc_w'); const T = num('conc_t');
      const out = document.getElementById('conc_out');
      if([L,W,T].some(v=>v===null||v<=0)){ out.innerHTML = '<span style="color:var(--danger)">Enter L, W, T (all > 0).</span>'; show(out,true); return }
      const m3 = L*W*T; const yd3 = m3*1.30795062;
      out.innerHTML = `${m3.toFixed(4)} m¬≥  ( ${yd3.toFixed(4)} yd¬≥ )`;
      show(out,true);
    }

    function slopeCalc(){
      const rise = num('slope_rise'); const run = num('slope_run'); const out = document.getElementById('slope_out');
      if(rise===null||run===null||run===0){ out.innerHTML = '<span style="color:var(--danger)">Enter rise and run (run‚â†0).</span>'; show(out,true); return }
      const pct = 100*rise/run; const angle = Math.atan(rise/run)*(180/Math.PI);
      out.innerHTML = `Grade = ${pct.toFixed(3)} %, Angle = ${angle.toFixed(3)} ¬∞`;
      show(out,true);
    }
    function clearSlope(){ ['slope_rise','slope_run'].forEach(id=>set(id,'')); show(document.getElementById('slope_out'), false) }

    // ---------- Mechanical ----------
    function gearCalc(){
      const N1 = num('gear_n1'); const N2 = num('gear_n2'); const rpmIn = num('gear_rpm_in'); const tIn = num('gear_t_in'); const eta = num('gear_eta');
      const out = document.getElementById('gear_out');
      if([N1,N2,rpmIn,tIn,eta].some(v=>v===null||v<=0)){ out.innerHTML = '<span style="color:var(--danger)">Enter N1, N2, RPM, Torque, Œ∑ (all > 0).</span>'; show(out,true); return }
      const i = N2/N1; const rpmOut = rpmIn / i; const tOut = tIn * i * eta;
      out.innerHTML = `i=${i.toFixed(4)}, RPM<sub>out</sub>=${rpmOut.toFixed(2)}, Torque<sub>out</sub>=${tOut.toFixed(3)} N¬∑m`;
      show(out,true);
    }

    function thermalExp(){
      const a = num('te_alpha'); const L = num('te_l'); const dT = num('te_dt'); const out = document.getElementById('te_out');
      if([a,L,dT].some(v=>v===null)){ out.innerHTML = '<span style="color:var(--danger)">Enter Œ±, L, ŒîT.</span>'; show(out,true); return }
      const dL = a*L*dT; out.innerHTML = `ŒîL = ${dL.toExponential(6)} m`;
      show(out,true);
    }

    function powerFromTR(){
      const tau = num('p_torque'); const rpm = num('p_rpm'); const out = document.getElementById('p_out');
      if([tau,rpm].some(v=>v===null)){ out.innerHTML = '<span style="color:var(--danger)">Enter torque and RPM.</span>'; show(out,true); return }
      const P = tau * 2*Math.PI * rpm / 60; const hp = P/746;
      out.innerHTML = `P = ${P.toFixed(2)} W ( ${hp.toFixed(3)} hp )`;
      show(out,true);
    }
    function clearPower(){ ['p_torque','p_rpm'].forEach(id=>set(id,'')); show(document.getElementById('p_out'), false) }

    // ---------- Software ----------
    function toBytes(size, unit){
      if(unit==='KB') return size*1024; if(unit==='MB') return size*1024*1024; if(unit==='GB') return size*1024*1024*1024; return size;
    }
    function toBps(bw, unit){
      if(unit==='MBps') return bw*1024*1024; // bytes per second
      if(unit==='Mbps') return (bw*1e6)/8;  // convert to bytes/s
      return bw;
    }
    function downloadTime(){
      const size = num('dl_size'); const sizeU = document.getElementById('dl_size_unit').value;
      const bw = num('dl_bw'); const bwU = document.getElementById('dl_bw_unit').value; const oh = num('dl_oh');
      const out = document.getElementById('dl_out');
      if([size,bw,oh].some(v=>v===null)||oh<0||oh>=1){ out.innerHTML = '<span style="color:var(--danger)">Enter size, bandwidth, and overhead (0‚Äì1).</span>'; show(out,true); return }
      const bytes = toBytes(size, sizeU); const rate = toBps(bw, bwU)*(1-oh);
      const secs = bytes / rate;
      const h = Math.floor(secs/3600), m = Math.floor((secs%3600)/60), s = secs%60;
      out.innerHTML = `‚âà ${h}h ${m}m ${s.toFixed(1)}s  ( ${rate.toFixed(0)} B/s effective )`;
      show(out,true);
    }

    function slaCalc(){
      const pct = num('sla_pct'); const period = document.getElementById('sla_period').value; const out=document.getElementById('sla_out');
      if(pct===null||pct<=0||pct>100){ out.innerHTML = '<span style="color:var(--danger)">Enter availability between 0‚Äì100.</span>'; show(out,true); return }
      const avail = pct/100; let seconds;
      if(period==='year') seconds = 365*24*3600; else if(period==='month') seconds = 30*24*3600; else if(period==='week') seconds = 7*24*3600; else seconds = 24*3600;
      const down = (1- avail)*seconds; const h=Math.floor(down/3600), m=Math.floor((down%3600)/60), s=(down%60);
      out.innerHTML = `Allowed downtime ‚âà ${h}h ${m}m ${s.toFixed(0)}s per ${period}`;
      show(out,true);
    }
    function clearSLA(){ set('sla_pct',''); document.getElementById('sla_period').value='year'; show(document.getElementById('sla_out'), false) }

    function bitsNeeded(){
      const N = num('bits_n'); const out=document.getElementById('bits_out');
      if(N===null||N<=0){ out.innerHTML = '<span style="color:var(--danger)">Enter N &gt; 0.</span>'; show(out,true); return }
      const bits = Math.ceil(Math.log2(N));
      out.innerHTML = `Bits required = ${bits}`;
      show(out,true);
    }
  </script>
</body>
</html>
